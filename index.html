<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Minecraft –•—Ä–æ–Ω–∏–∫–∏</title>
    <link rel="icon" href="favicon.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">

    <style>
        /* Minecraft switch made by: csozi | Website: english.csozi.hu */
        .switch {
          font-size: 17px;
          position: relative;
          display: inline-block;
          width: 4em;
          height: 2em;
          vertical-align: middle;
        }

        .switch input {
          opacity: 0;
          width: 0;
          height: 0;
        }

        .slider {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: #ccc;
          transition: .4s;
          border-radius: 5px;
        }

        .off, .on {
          position: absolute;
          height: 2em;
          width: 2em;
          background-color: white;
          transition: .4s;
          image-rendering: pixelated;
        }

        .off { opacity: 1; }
        .on  { opacity: 0; }

        .switch input:checked + .slider {
          background-color: #ccc;
        }

        .switch input:checked ~ .off {
          transform: translateX(2em);
          opacity: 0;
        }

        .switch input:checked ~ .on {
          transform: translateX(2em);
          opacity: 1;
        }

        /* –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ —Ç–µ–º—ã */
        body {
          transition: background-color 0.6s, color 0.6s;
        }

        body.light-theme {
          background-color: #fafafa;
          color: #222;
        }
    </style>
</head>
<body>
    <div class="container">
        <img src="logo.png" alt="Minecraft –•—Ä–æ–Ω–∏–∫–∏" class="logo">
        <h1 class="title">–ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π Minecraft</h1>

        <div class="controls">
            <input type="text" id="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –≤–µ—Ä—Å–∏–∏ –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏—é..." onkeyup="filterVersions()">
            <button onclick="randomVersion()">üé≤ –°–ª—É—á–∞–π–Ω–∞—è</button>
            <button onclick="window.location.href='mechanics.html'">‚öôÔ∏è –ú–µ—Ö–∞–Ω–∏–∫–∏</button>

            <!-- –ù–æ–≤—ã–π Minecraft –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã -->
            <label class="switch">
                <input type="checkbox" id="theme-toggle" onclick="toggleTheme()">
                <span class="slider"></span>
                <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQEAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADb/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAAQABADASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIG/8QAIxAAAgIABQQDAAAAAAAAAAAAAQMCBAAREiExBUFRcROBsf/EABQBAQAAAAAAAAAAAAAAAAAAAAX/xAAWEQADAAAAAAAAAAAAAAAAAAAAEiL/2gAMAwEAAhEDEQA/AMBTp03dNglMVuttjqnKQ2UPOfntkOThbqVVUJ12BKnogZQZpy+Ucc8knwePWJrWqyqEHVmrTahEBqpbBoAH1n635wt3a9mjN1p8X2pw0qVEbKB/CO/c4OphSVP/2Q==" class="off">
                <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQEAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADb/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAAQABADASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAQIEBf/EACMQAAEDAwQDAQEAAAAAAAAAAAQBAgUDESEAEjFBBlFhMkL/xAAUAQEAAAAAAAAAAAAAAAAAAAAF/8QAGBEAAwEBAAAAAAAAAAAAAAAAABIiMUH/2gAMAwEAAhEDEQA/AM+Bg4mS8coRccMOdNG01qVyH/kRvHPKKmMdr8uujPwUTG+NkRpw1AKWCbvHKa2zTGphc9u9p0q+rLqeMl4kSCGkYgtoE0HTahIz3bWGNanPrdyqWzn7p5ibh5CArnyZNMyVLpK0QSkt2BNXtVX+7ol1wuLJiyaHt+6Kyp//2Q==" class="on">
            </label>
        </div>

        <div class="updates" id="versions-list">
            <!-- –í—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤–µ—Ä—Å–∏–π (–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) -->
            <!-- ... -->
        </div>

        <footer class="footer">
            <p>–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π Minecraft ‚Ä¢ –ê–≤—Ç–æ—Ä: Ironcarrier</p>
        </footer>
    </div>

    <script>
        const INITIAL_BOUNCE_DURATION = 0.8;
        const INITIAL_BOUNCE_COUNT = 3;
        const CARD_APPEAR_DELAY = 200;

        function filterVersions() {
            const input = document.getElementById('search');
            const filter = input.value.toLowerCase();
            const cards = document.querySelectorAll('.update-card');
            cards.forEach(card => {
                const title = card.getAttribute('data-title').toLowerCase();
                const version = card.getAttribute('data-version').toLowerCase(); 
                const isAnimated = card.classList.contains('bouncing') || card.classList.contains('spawned') || card.classList.contains('summoned');
                if (isAnimated || (Number(version) < 1.16 && !isAnimated)) {
                    card.style.display = (title.includes(filter) || version.includes(filter)) ? 'block' : 'none';
                }
            });
        }

        function randomVersion() {
            const cards = document.querySelectorAll('.update-card');
            const visibleCards = Array.from(cards).filter(card => 
                card.classList.contains('bouncing') || 
                card.classList.contains('stopped') ||
                card.classList.contains('spawned') ||
                card.classList.contains('summoned') ||
                (Number(card.getAttribute('data-version')) < 1.16 && !card.classList.contains('bouncing'))
            );
            if (visibleCards.length > 0) {
                const randomIndex = Math.floor(Math.random() * visibleCards.length);
                window.location.href = visibleCards[randomIndex].href;
            }
        }

        function toggleTheme() {
            document.body.classList.toggle('light-theme');
            const checkbox = document.getElementById('theme-toggle');
            if (document.body.classList.contains('light-theme')) {
                checkbox.checked = true;
                localStorage.setItem('theme', 'light');
            } else {
                checkbox.checked = false;
                localStorage.setItem('theme', 'dark');
            }
        }

        function initializeVersionSequence() {
            const cardsToAnimate = [
                document.querySelector('.update-card[data-version="1.16"]'),
                document.querySelector('.update-card[data-version="1.17"]'),
                document.querySelector('.update-card[data-version="1.18"]'),
                document.querySelector('.update-card[data-version="1.19"]'),
                document.querySelector('.update-card[data-version="1.20"]')
            ].filter(card => card !== null);

            const stopBounceTime = INITIAL_BOUNCE_DURATION * INITIAL_BOUNCE_COUNT * 1000;

            cardsToAnimate.forEach((card, index) => {
                const initialDelay = index * CARD_APPEAR_DELAY;
                setTimeout(() => {
                    if (index < 2) { 
                        card.classList.add('bouncing');
                    } else {
                        card.classList.add('spawned'); 
                    }
                }, initialDelay);
            });

            setTimeout(() => {
                cardsToAnimate.forEach(card => {
                    card.classList.remove('bouncing');
                    card.classList.add('stopped');
                    card.classList.remove('spawned');
                });
            }, stopBounceTime + CARD_APPEAR_DELAY * cardsToAnimate.length + 50);
        }

        document.addEventListener('DOMContentLoaded', () => {
            if (localStorage.getItem('theme') === 'light') {
                document.body.classList.add('light-theme');
                document.getElementById('theme-toggle').checked = true;
            }
            initializeVersionSequence();
        });
    </script>
</body>
</html>
