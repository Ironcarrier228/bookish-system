<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Minecraft –•—Ä–æ–Ω–∏–∫–∏</title>
    <link rel="icon" href="favicon.png" type="image/png">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <img src="logo.png" alt="Minecraft –•—Ä–æ–Ω–∏–∫–∏" class="logo">
        <h1 class="title">–ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π Minecraft</h1>

        <div class="controls">
            <input type="text" id="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –≤–µ—Ä—Å–∏–∏ –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏—é..." onkeyup="filterVersions()">
            <button onclick="randomVersion()">üé≤ –°–ª—É—á–∞–π–Ω–∞—è</button>
            <button onclick="window.location.href='mechanics.html'">‚öôÔ∏è –ú–µ—Ö–∞–Ω–∏–∫–∏</button>
            <button id="theme-toggle" onclick="toggleTheme()">üåô / ‚òÄÔ∏è</button>
        </div>

        <div class="updates" id="versions-list">
            
            <a href="1.0.html" class="update-card" data-version="1.0" data-title="Adventure Update">
                <h2>Minecraft 1.0</h2>
                <p class="subtitle">Adventure Update</p>
            </a>
            <a href="1.1.html" class="update-card" data-version="1.1" data-title="Second Adventure Update">
                <h2>Minecraft 1.1</h2>
                <p class="subtitle">Second Adventure Update</p>
            </a>
            <a href="1.2.html" class="update-card" data-version="1.2" data-title="Jungles and Structures">
                <h2>Minecraft 1.2.1</h2>
                <p class="subtitle">Jungles and Structures</p>
            </a>
            <a href="1.3.html" class="update-card" data-version="1.3" data-title="Trading and Travel">
                <h2>Minecraft 1.3.1</h2>
                <p class="subtitle">Trading and Travel</p>
            </a>
            <a href="1.4.html" class="update-card" data-version="1.4" data-title="The Pretty Scary Update">
                <h2>Minecraft 1.4.2</h2>
                <p class="subtitle">The Pretty Scary Update</p>
            </a>
            <a href="1.5.html" class="update-card" data-version="1.5" data-title="The Redstone Update">
                <h2>Minecraft 1.5</h2>
                <p class="subtitle">The Redstone Update</p>
            </a>
            <a href="1.6.html" class="update-card" data-version="1.6" data-title="Horse Update">
                <h2>Minecraft 1.6.1</h2>
                <p class="subtitle">Horse Update</p>
            </a>
            <a href="1.7.html" class="update-card" data-version="1.7" data-title="The Update that Changed the World">
                <h2>Minecraft 1.7.2</h2>
                <p class="subtitle">The Update that Changed the World</p>
            </a>
            <a href="1.8.html" class="update-card" data-version="1.8" data-title="The Bountiful Update">
                <h2>Minecraft 1.8</h2>
                <p class="subtitle">The Bountiful Update</p>
            </a>
            <a href="1.9.html" class="update-card" data-version="1.9" data-title="Combat Update">
                <h2>Minecraft 1.9</h2>
                <p class="subtitle">Combat Update</p>
            </a>
            <a href="1.10.html" class="update-card" data-version="1.10" data-title="Frostburn Update">
                <h2>Minecraft 1.10</h2>
                <p class="subtitle">Frostburn Update</p>
            </a>
            <a href="1.11.html" class="update-card" data-version="1.11" data-title="Exploration Update">
                <h2>Minecraft 1.11</h2>
                <p class="subtitle">Exploration Update</p>
            </a>
            <a href="1.12.html" class="update-card" data-version="1.12" data-title="World of Color Update">
                <h2>Minecraft 1.12</h2>
                <p class="subtitle">World of Color Update</p>
            </a>
            <a href="1.13.html" class="update-card" data-version="1.13" data-title="Aquatic Update">
                <h2>Minecraft 1.13</h2>
                <p class="subtitle">Aquatic Update</p>
            </a>
            <a href="1.14.html" class="update-card" data-version="1.14" data-title="Village and Pillage">
                <h2>Minecraft 1.14</h2>
                <p class="subtitle">Village and Pillage</p>
            </a>
            <a href="1.15.html" class="update-card" data-version="1.15" data-title="Buzzy Bees">
                <h2>Minecraft 1.15</h2>
                <p class="subtitle">Buzzy Bees</p>
            </a>

            <a href="1.16.html" class="update-card" data-version="1.16" data-title="Nether Update">
                <h2>Minecraft 1.16</h2>
                <p class="subtitle">Nether Update</p>
            </a>
            <a href="1.17.html" class="update-card" data-version="1.17" data-title="Caves & Cliffs: Part I">
                <h2>Minecraft 1.17</h2>
                <p class="subtitle">Caves & Cliffs: Part I</p>
            </a>
            <a href="1.18.html" class="update-card" data-version="1.18" data-title="Caves & Cliffs: Part II">
                <h2>Minecraft 1.18</h2>
                <p class="subtitle">Caves & Cliffs: Part II</p>
            </a>
            <a href="1.19.html" class="update-card" data-version="1.19" data-title="The Wild Update">
                <h2>Minecraft 1.19</h2>
                <p class="subtitle">The Wild Update</p>
            </a>
            <a href="1.20.html" class="update-card" data-version="1.20" data-title="Trails & Tales">
                <h2>Minecraft 1.20</h2>
                <p class="subtitle">Trails & Tales</p>
            </a>
        </div>

        <footer class="footer">
            <p>–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π Minecraft ‚Ä¢ –ê–≤—Ç–æ—Ä: Ironcarrier</p>
        </footer>

        </div>
    
    <script>
        // –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω–∏–º–∞—Ü–∏–π
        const INITIAL_BOUNCE_DURATION = 0.8; // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–¥–Ω–æ–≥–æ –ø—Ä—ã–∂–∫–∞ –¥–ª—è 1.16, 1.17
        const INITIAL_BOUNCE_COUNT = 3; // –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –ø—Ä—ã–≥–Ω—É—Ç 1.16 –∏ 1.17
        const CARD_APPEAR_DELAY = 200; // –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–æ—è–≤–ª–µ–Ω–∏–µ–º 1.16, 1.17, 1.18
        
        // –í–°–Ø –õ–û–ì–ò–ö–ê –°–í–Ø–ó–ê–ù–ù–ê–Ø –° 1.20 (summonVersion120) –ë–´–õ–ê –£–î–ê–õ–ï–ù–ê.
        // –õ–û–ì–ò–ö–ê –°–í–Ø–ó–ê–ù–ù–ê–Ø –° 1.19 (spawnVersion119) –ë–´–õ–ê –£–î–ê–õ–ï–ù–ê.

        function filterVersions() {
            const input = document.getElementById('search');
            const filter = input.value.toLowerCase();
            const cards = document.querySelectorAll('.update-card');
            
            cards.forEach(card => {
                const title = card.getAttribute('data-title').toLowerCase();
                const version = card.getAttribute('data-version').toLowerCase(); 
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ—è–≤–∏–ª–∞—Å—å –ª–∏ –∫–∞—Ä—Ç–æ—á–∫–∞ —á–µ—Ä–µ–∑ CSS/JS (bouncing, spawned, summoned)
                const isAnimated = card.classList.contains('bouncing') || card.classList.contains('spawned') || card.classList.contains('summoned');
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–º–µ—Ä–∞ –≤–µ—Ä—Å–∏–∏ –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –∫–∞—Ä—Ç (–¥–æ 1.16)
                if (isAnimated || (Number(version) < 1.16 && !isAnimated)) {
                    card.style.display = (title.includes(filter) || version.includes(filter)) ? 'block' : 'none';
                }
            });
        }

        function randomVersion() {
            const cards = document.querySelectorAll('.update-card');
            // –£—á–∏—Ç—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ –∫–∞—Ä—Ç–æ—á–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –ø–æ—è–≤–∏–ª–∏—Å—å
            const visibleCards = Array.from(cards).filter(card => 
                card.classList.contains('bouncing') || 
                card.classList.contains('stopped') ||
                card.classList.contains('spawned') ||
                card.classList.contains('summoned') ||
                (Number(card.getAttribute('data-version')) < 1.16 && !card.classList.contains('bouncing'))
            );
            
            if (visibleCards.length > 0) {
                const randomIndex = Math.floor(Math.random() * visibleCards.length);
                window.location.href = visibleCards[randomIndex].href;
            }
        }

        function toggleTheme() {
            document.body.classList.toggle('light-theme');
            const btn = document.getElementById('theme-toggle');
            if (document.body.classList.contains('light-theme')) {
                btn.textContent = '‚òÄÔ∏è';
                localStorage.setItem('theme', 'light');
            } else {
                btn.textContent = 'üåô';
                localStorage.setItem('theme', 'dark');
            }
        }
        
        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –ø–æ—è–≤–ª–µ–Ω–∏—è (–ú–û–î–ò–§–ò–¶–ò–†–û–í–ê–ù–û)
        function initializeVersionSequence() {
            // –¢–µ–ø–µ—Ä—å –≤ —ç—Ç–æ–º –º–∞—Å—Å–∏–≤–µ 1.16, 1.17, 1.18, 1.19, 1.20
            const cardsToAnimate = [
                document.querySelector('.update-card[data-version="1.16"]'),
                document.querySelector('.update-card[data-version="1.17"]'),
                document.querySelector('.update-card[data-version="1.18"]'),
                document.querySelector('.update-card[data-version="1.19"]'), // 1.19 –¥–æ–±–∞–≤–ª–µ–Ω —Å—é–¥–∞
                document.querySelector('.update-card[data-version="1.20"]')  // 1.20 –¥–æ–±–∞–≤–ª–µ–Ω —Å—é–¥–∞
            ].filter(card => card !== null);

            // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä—ã–∂–∫–æ–≤ (1.16 –∏ 1.17 –ø—Ä—ã–≥–∞—é—Ç 3 —Ä–∞–∑–∞)
            const stopBounceTime = INITIAL_BOUNCE_DURATION * INITIAL_BOUNCE_COUNT * 1000; // 2.4s

            cardsToAnimate.forEach((card, index) => {
                const initialDelay = index * CARD_APPEAR_DELAY;
                
                setTimeout(() => {
                    // 1.16 –∏ 1.17 ‚Äî –ø—Ä—ã–∂–∫–∏
                    if (index < 2) { 
                        card.classList.add('bouncing');
                        card.style.animationDelay = '0s';
                    } 
                    // 1.18, 1.19, 1.20 ‚Äî –ø—Ä–æ—Å—Ç–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ (–∫–ª–∞—Å—Å 'stopped' –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –ø–æ–∑–∂–µ)
                    else {
                         // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–ª–∞—Å—Å 'spawned' –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è, –µ—Å–ª–∏ –Ω–µ—Ç –¥—Ä—É–≥–∏—Ö –∞–Ω–∏–º–∞—Ü–∏–π
                         card.classList.add('spawned'); 
                    }
                }, initialDelay);
            });

            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä—ã–∂–∫–∏ –∏ —Ñ–∏–∫—Å–∏—Ä—É–µ–º –≤—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏, –ø–æ—è–≤–∏–≤—à–∏–µ—Å—è –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
            setTimeout(() => {
                cardsToAnimate.forEach(card => {
                    card.classList.remove('bouncing');
                    card.classList.add('stopped');
                    card.classList.remove('spawned'); // –£–±–∏—Ä–∞–µ–º 'spawned', —á—Ç–æ–±—ã –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å —Å—Ç–∏–ª–∏ 'stopped'
                });
            }, stopBounceTime + CARD_APPEAR_DELAY * cardsToAnimate.length + 50); // –û–±—â–µ–µ –≤—Ä–µ–º—è –ø–æ—è–≤–ª–µ–Ω–∏—è + –±—É—Ñ–µ—Ä
        }

        document.addEventListener('DOMContentLoaded', () => {
            if (localStorage.getItem('theme') === 'light') {
                document.body.classList.add('light-theme');
                document.getElementById('theme-toggle').textContent = '‚òÄÔ∏è';
            }
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏—è
            initializeVersionSequence(); 
        });
    </script>
</body>
</html>